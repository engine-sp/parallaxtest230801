<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        html,
        body {
            margin: 0;
            padding: 0;
        }

        #v0 {
            position: sticky;
            top:0;
            width: 100%;
            height: 99vh;
        }
        /*canvas {
            position: fixed;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            max-width: 100vw;
            max-height: 100vh;
        }*/

        .container0 {
            min-height: 100vh;
        }

        .container1 {
            height: 2000vh;
            background-color: #000;
        }
    </style>
</head>

<body>
    <div class="container0">
        <h1>hihi</h1>
        <p>Under the new controls, special licences will be needed to export gallium and germanium from the world's
            second
            largest economy.</p>
        <p>The materials are used to produce chips and have military applications.</p>
        <p>The curbs come after Washington made efforts to limit Beijing's access to advanced microprocessor technology.
        </p>
        <p>China is by far the biggest player in the global supply chain of gallium and germanium. It produces 80% of
            the
            world's gallium and 60% of germanium, according to the Critical Raw Materials Alliance (CRMA) industry body.
        </p>
        <p>The materials are "minor metals", meaning that they are not usually found on their own in nature, and are
            often the
            by-product of other processes.</p>
        <p>Besides the US, both Japan and the Netherlands - which is home to key chip equipment maker ASML - have
            imposed chip
            technology export restrictions on China.</p>
        <p>"The timing of this announcement from China is not coincidental, given chip export restrictions announced by
            the
            Netherlands amongst others," Colin Hamilton from the investment firm BMO Capital Markets told the BBC.</p>
        <p>"Quite simply, if you won't give us chips, we won't give you the materials to make those chips," he added.
        </p>
        <p>The constant tit-for-tat between the world's two biggest economies has raised concerns over the rise of
            so-called
            "resource nationalism" - when governments hoard critical materials to exert influence over other countries.
        </p>
        <p>"We're seeing governments increasingly move away from the narrative of globalisation," says Dr Gavin Harper,
            a
            critical materials research fellow at the University of Birmingham.</p>
        <p>"The idea that international markets will simply deliver materials is gone and, if you look at the picture
            more
            broadly, Western industry could be facing a bit of an existential threat."</p>
    </div>
    <div id="container1" class="container1">
        <canvas id="v0" />
    </div>
    <div class="container2">

        <p>China curbs exports of key computer chip materials</p>
        <p>Netherlands to restrict chip equipment exports</p>
        <p>Gallium arsenide - a compound of gallium and arsenic - is used in high-frequency computer chips, as well as
            in the
            production of light-emitting diodes (LEDs) and solar panels.</p>
        <p>A limited number of companies around the world produce gallium arsenide at the purity needed for use in
            electronics,
            according to the CRMA.</p>
        <p>Germanium is also used to manufacture microprocessors and solar cells. It is also used in vision goggles
            which are
            "key to the military," Mr Hamilton said.</p>
        <p>However, Mr Hamilton added: "There should be enough in regional supply from base metal smelters to provide
            alternatives. The importance to top quality semiconductors is a harder one to solve, as China really is
            dominant.
            There will probably be some push for recycling."</p>
        <p>Last month, a Pentagon spokesperson said the US had reserves of germanium but no stockpile of gallium.</p>
        <p>The spokesperson added that "The [Defense] Department is proactively taking steps... to increase domestic
            mining and
            processing of critical materials for the microelectronics and space supply chain, including gallium and
            germanium".
        </p>
        <p>Still, the Chinese export restrictions are expected to have a limited impact in the long-term.</p>
        <p>Although China is the leading exporter of gallium and germanium, there are substitutes for the materials in
            the
            production of components like computer chips, political risk consultancy Eurasia Group said.</p>
        <p>There are also active mining and processing facilities located outside of China, it added.</p>
        <p>The consultancy highlighted similarities to when China restricted the exports of rare earth minerals over a
            decade
            ago.</p>
        <p>More exporters emerged and in less than a decade China's dominance of the rare earths supply chain fell from
            98% to
            63%, according to Eurasia's estimates.</p>
        <p>"We can expect to see the development and exploitation of alternative sources of gallium and germanium, as
            well as
            intensified efforts to recycle these commodities and identify more readily available alternatives," Anna
            Ashton,
            Eurasia's director for China corporate affairs and US-China, told the BBC.</p>
        <p>"That's not simply going to be a result of China's recently announced export restrictions," she added. "It's
            a result
            of expectations of growing demand, intensifying geostrategic competition and distrust, and China's
            documented
            willingness to restrict imports and exports in service to political and strategic ends."</p>
        <p>In October, Washington announced that it would require licences for companies exporting chips to China using
            US tools
            or software, no matter where they are made in the world.</p>
        <p>China has frequently accused the US of "tech hegemony" in response to export controls imposed by Washington.
        </p>
        <p>In recent months, Beijing has also imposed restrictions on US firms linked to the American military such as
            aerospace
            company Lockheed Martin.</p>
        <p>Meanwhile, Western governments have spoken about the need to "de-risk" from China, which means being less
            reliant on
            it for both raw materials and finished products.</p>
        <p>However, diversifying supply chains and building up the capability to mine and then, crucially, process
            metals such
            as gallium and germanium will take years.</p>
        <p>In the long-term, mineral-rich countries, such as Australia and Canada, see the materials crisis as an
            opportunity.
        </p>
        <p>Experts warn that weaponising resources and technological capabilities - as the US and China have both done -
            will
            also have global consequences when it comes to the environment.</p>
        <p>That is because important new green technologies are reliant on these kinds of materials</p>
        <p>"This isn't a national problem. This is a problem that we face as a human race. Hopefully, policymakers can
            bring
            their best selves to the table, secure access to those critical materials that are really essential for the
            energy
            transition and we can start to tackle some of the challenges around decarbonisation," said Dr Harper.</p>
        <p>While the impact of the latest export controls will not be catastrophic for industry or consumers, experts
            warn it is
            important to pay attention to where the trend is heading.</p>
        <p>"The man and woman in the street cannot relate to gallium and germanium," says Dr Harper. "But equally, they
            care
            about how much their car costs or how expensive it will be to switch to green technology."</p>
        <p>"Sometimes very abstract policies happening in faraway lands actually translate into something that has a big
            impact
            on their lives."</p>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.6.0/jszip.min.js"></script>
    <script>
        var $v0 = document.getElementById("v0");
        const context = $v0.getContext("2d");
        var container1;
        var videoDuration;
        var isScrolling = false;
        container1 = document.getElementById("container1");
        window.addEventListener("scroll", onScroll);
        window.addEventListener("resize", function () {
            context.clearRect(0, 0, $v0.width, $v0.height);
            onScroll();
        });

        const frameCount = 221;
        const framesPerLoad = 10; // 每次載入的影格數量
        const frames = []; // 存放解壓縮後的圖片
        let currentLoadedFrames = 0; // 目前已載入的影格數量
        const currentFrame = index => (
            `image${index.toString().padStart(3, '0')}.webp`
        );

        const preloadImages = async () => {
            const zipUrl = '0composition/images/1109604_1080p_4k_2k_3840x2160/webp.zip'; // 替換為你的ZIP檔案路徑
            const zip = await fetch(zipUrl).then(response => response.blob());
            const jszip = new JSZip();

            await jszip.loadAsync(zip);
            const imgPromises = [];

            for (let i = 1; i < frameCount; i++) {
                const imgPromise = getImageFromZip(jszip, currentFrame(i), i);
                imgPromises.push(imgPromise);
            }

            await Promise.all(imgPromises);
        };

        const getImageFromZip = async (jszip, filename, index) => {
            const blob = await jszip.file(filename).async('blob');
            const img = new Image();
            img.onload = function () {
                frames[index] = img;
                currentLoadedFrames++;
                if (currentLoadedFrames === frameCount - 1) {
                    // 所有影格已載入完成，開始執行捲動事件
                    console.log("所有影格已載入完成，開始執行捲動事件");
                    isScrolling = false;
                    onScroll();
                }
            };
            img.src = URL.createObjectURL(blob);
        };

        const img = new Image();
        img.src = currentFrame(1);
        const org_width = 1920;
        const org_height = 1080;
        $v0.width = 1920;
        $v0.height = 1080;
        img.onload = function () {
            let output_height = window.innerWidth * (org_height / $v0.width);
            let drawY = 0;
            if (output_height < $v0.height) {
                drawY = ($v0.height / 2) - (output_height / 2);
            }
            context.drawImage(img, 0, drawY, $v0.width, output_height);
        };

        const updateImage = index => {
            const frameImg = frames[index];
            if (frameImg) {
                let output_height = window.innerWidth * (org_height / $v0.width);
                let drawY = 0;
                if (output_height < $v0.height) {
                    drawY = ($v0.height / 2) - (output_height / 2);
                }
                context.drawImage(frameImg, 0, drawY, $v0.width, output_height);
            }
        };


        function onScroll() {
            if (!isScrolling) {
                isScrolling = true;
                requestAnimationFrame(updateImageFrame);
            }
        }

        function updateImageFrame() {
            // 取得#container1元素的位置和高度
            var container1Rect = container1.getBoundingClientRect();

            // 計算視窗頂部和底部相對於#container1的位置
            var viewportTop = window.pageYOffset;
            var viewportBottom = viewportTop + window.innerHeight;
            var container1Top = container1Rect.top + window.pageYOffset;
            var container1Bottom = container1Top + container1Rect.height;

            if (viewportBottom >= container1Top && viewportTop <= container1Bottom) {
                const scrollFraction = (viewportBottom - container1Top) / container1Rect.height;
                const frameIndex = Math.min(
                    frameCount - 1,
                    Math.ceil(scrollFraction * frameCount)
                );
                updateImage(frameIndex + 1);

                // 預先載入接下來的影格
                const remainingFrames = frameCount - frameIndex;
                if (remainingFrames > 0) {
                    const framesToLoad = Math.min(remainingFrames, framesPerLoad);
                    // loadFrames(frameIndex + 1, framesToLoad); // 不再需要 loadFrames 函數
                }
            }
            isScrolling = false;
        }

        preloadImages();
    </script>







</body>

</html>